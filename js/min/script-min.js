$(document).ready(function(){$("body").removeClass("no-js"),$(".full-screen").fullScreen(),$('a[href="#"]').on("click",function(e){e.preventDefault()}),$(document).on("mobileinit",function(){$.mobile.ignoreContentEnabled=!0}),$(".mask-pin").mask("9999",{placeholder:"4 digit PIN"}),$(".mask-pin-again").mask("9999",{placeholder:"4 digit PIN again"}),$(".mask-tel").mask("999-999-9999",{placeholder:"phone"}),$(".mask-tel-again").mask("999-999-9999",{placeholder:"phone again"});var e=$(".screen-signin"),i=$(".screen-signup"),n=$(".screen-link-bank"),t=$(".screen-next-link-bank"),a=$(".screen-privacy"),c=$(".screen-terms"),o=$(".breadcrumbs-signup"),s=$(".screen-analyzing"),r=$(".screen-analyzing-no-card"),d=$(".breadcrumbs-setup"),l=$(".graphic"),h=$(".screen-income-edit"),m=$(".screen-income"),u=$(".screen-bills");$(".go-signup").click(function(){e.hide("slide",{direction:"left",easing:"easeInOutCirc"},300),i.show("slide",{direction:"right",easing:"easeInOutCirc"},300),o.show("slide",{direction:"up",easing:"easeInOutCirc"},300)}),$(".go-signin").click(function(){e.show("slide",{direction:"left",easing:"easeInOutCirc"},300),i.hide("slide",{direction:"right",easing:"easeInOutCirc"},300),o.hide("slide",{direction:"up",easing:"easeInOutCirc"},300)}),$(".go-terms").click(function(){c.show("slide",{direction:"right",easing:"easeInOutCirc"},300)}),$(".hide-terms").click(function(){c.hide("slide",{direction:"right",easing:"easeInOutCirc"},300)}),$(".go-privacy").click(function(){a.show("slide",{direction:"right",easing:"easeInOutCirc"},300)}),$(".hide-privacy").click(function(){a.hide("slide",{direction:"right",easing:"easeInOutCirc"},300)}),$(".go-next-link-bank").on("click",function(e){e.preventDefault(),n.hide("slide",{direction:"left",easing:"easeInOutCirc"},300),t.show("slide",{direction:"right",easing:"easeInOutCirc"},300),o.find("li:eq(1)").removeClass("active-last").next("li").addClass("active")}),$(".go-analyzing-no-card").click(function(){r.show("fade",{easing:"easeInOutCirc"},300,function(){setTimeout(function(){$.dialog({buttonText:{ok:"Restart the analysis"},titleText:"Oops, something went wrong…",contentHtml:"<p>Please restart the transaction<br> analysis below.</p>"})},2e3)})}),$(".go-analyzing").click(function(){s.show("fade",{easing:"easeInOutCirc"},300,function(){setTimeout(function(){$(".timer-text-process").fadeOut(0),$(".timer-text-ready").fadeIn(250),$(".screen-analyzing").addClass("screen-analyzing-ready")},2e3)})}),$(".hide-analyzing").click(function(){$(".screen-analyzing").removeClass("screen-analyzing-ready"),r.hide("fade",{easing:"easeInOutCirc"},300,function(){})}),$(".button-analyzing-ready-back").click(function(){$(".screen-analyzing").removeClass("screen-analyzing-ready"),s.hide("fade",{easing:"easeInOutCirc"},300,function(){})}),$(".go-income").on("click",function(e){t.hide("slide",{direction:"left",easing:"easeInOutCirc"},300),s.hide("fade",{easing:"easeInOutCirc"},300),m.show("slide",{direction:"right",easing:"easeInOutCirc"},300),l.show("slide",{direction:"right",easing:"easeInOutCirc"},300),d.show("slide",{direction:"right",easing:"easeInOutCirc"},300),o.hide("slide",{direction:"left",easing:"easeInOutCirc"},300)}),$(".income-form span.input-text").click(function(){h.show("slide",{direction:"right",easing:"easeInOutCirc"},300)}),$(".go-back-analyzing").click(function(){s.show("fade",{easing:"easeInOutCirc"},300),m.hide("slide",{direction:"right",easing:"easeInOutCirc"},300),l.hide("slide",{direction:"right",easing:"easeInOutCirc"},300),d.hide("slide",{direction:"right",easing:"easeInOutCirc"},300),t.show("slide",{direction:"left",easing:"easeInOutCirc"},300),o.show("slide",{direction:"left",easing:"easeInOutCirc"},300),o.find("li").removeClass("active-last").addClass("active"),$(".timer-text-process").fadeOut(0),$(".timer-text-ready").fadeIn(250),$(".screen-analyzing").addClass("screen-analyzing-ready")}),$(".hide-income-edit").click(function(){h.hide("slide",{direction:"right",easing:"easeInOutCirc"},300)}),$(".hide-income-save").click(function(){var e=$("#income-edit-amount").val();e=e.replace("$",""),$("#income-amount-val").text("$"+e);var i=$(".income-edit-frequency").val();if($("#income-frequency-val").text(i),"every week"==i){var n=$(".income-edit-week select").val();$(".income-twice-a-month, .income-month, .income-2week").hide(),$(".income-week").show(),$("#income-week-val").text(n)}else if("every 2 weeks"==i){var t=$(".income-edit-2week:eq(0) select").val(),a=$(".income-edit-2week:eq(1) select").val();$(".income-twice-a-month, .income-month, .income-week").hide(),$(".income-2week").show(),$("#income-2week-val").text(t),$("#income-2week2-val").text(a)}else if("twice a month"==i){$(".income-month, .income-week, .income-2week").hide(),$(".income-twice-a-month").show();var c=$(".income-edit-twice-a-month select:eq(0)").val(),o=$(".income-edit-twice-a-month select:eq(1)").val();$(".income-twice-a-month span.input-text:eq(0)").text(c),$(".income-twice-a-month span.input-text:eq(1)").text(o)}else if("once a month"==i){var s=$(".income-edit-month select").val();$(".income-twice-a-month, .income-week, .income-2week").hide(),$(".income-month").show(),$("#income-month-val").text(s)}h.hide("slide",{direction:"right",easing:"easeInOutCirc"},300)}),$(".income-edit-frequency").bind("change",function(e){var i=$(this).val();if("every week"==i)$(".income-edit-week").show(),$(".income-edit-twice-a-month, .income-edit-month, .income-edit-2week").hide();else if("every 2 weeks"==i){$(".income-edit-2week").show(),$(".income-edit-twice-a-month, .income-edit-month, .income-edit-week").hide();var n=$(".income-edit-select-2week").val();$(".income-edit-select-2week2").html("").append('<option value="'+n+', 9/29">'+n+", 9/29</option>").append('<option value="'+n+', 10/6">'+n+", 10/6</option>")}else"twice a month"==i?($(".income-edit-twice-a-month").show(),$(".income-edit-week, .income-edit-month, .income-edit-2week").hide()):"once a month"==i&&($(".income-edit-month").show(),$(".income-edit-twice-a-month, .income-edit-week, .income-edit-2week").hide())}),$(".income-edit-select-2week").bind("change",function(e){var i=$(this).val();$(".income-edit-select-2week2").html("").append('<option value="'+i+', 9/29">'+i+", 9/29</option>").append('<option value="'+i+', 10/6">'+i+", 10/6</option>")}),$("#income-edit-amount").maskMoney({prefix:"$",allowNegative:!1,thousands:",",decimal:".",affixesStay:!1,precision:0}),$("#income-edit-amount").bind("change",function(e){console.log($(this).val())}),$(".go-bills").click(function(){m.hide("slide",{direction:"left",easing:"easeInOutCirc"},300),u.show("slide",{direction:"right",easing:"easeInOutCirc"},300),$('<div class="graphic-separator graphic-separator-red"></div>').insertAfter(l.find(".graphic-item:eq(24)")),$(".graphic-separator-red").slideDown(300),l.find(".graphic-item").each(function(e,i){e>24&&42>e&&$(this).find("svg .item-fill").attr("fill","#EC293F")}),d.find("li:eq(0)").removeClass("active-last").addClass("active-next-red").next("li").addClass("active active-last active-red")}),$(".go-back-income").click(function(){m.show("slide",{direction:"left",easing:"easeInOutCirc"},300),u.hide("slide",{direction:"right",easing:"easeInOutCirc"},300,function(){u.find(".panel-bottom").removeClass("active")}),$(".graphic-separator-red").slideUp(300,function(){l.find(".graphic-separator-red").remove()}),l.find(".graphic-item").each(function(e,i){e>24&&42>e&&$(this).find("svg .item-fill").attr("fill","#FFFFFF")}),d.find("li:eq(0)").addClass("active-last").removeClass("active-next-red").next("li").removeClass("active active-last active-red")}),$("#signin").validate({rules:{signinPhone:{required:!0,rangelength:[12,12]},signinPin:{required:!0,number:!0,rangelength:[4,4]}},submitHandler:function(e){}}),$("#signup").validate({rules:{signupPhone:{required:!0,rangelength:[12,12]},signupPhoneAgain:{required:!0,rangelength:[12,12],equalTo:"#signupPhone"},signupPin:{required:!0,number:!0,rangelength:[4,4]},signupPinAgain:{required:!0,number:!0,rangelength:[4,4],equalTo:"#signupPin"}},submitHandler:function(e){i.hide("slide",{direction:"left",easing:"easeInOutCirc"},300),n.show("slide",{direction:"right",easing:"easeInOutCirc"},300),o.find("li:eq(0)").removeClass("active-last").next("li").addClass("active active-last")}}),$(document).on("swipeup click",'.panel-bottom:not(".active")',function(e){$(this).addClass("active")}),$(document).on("swipedown",".panel-bottom.active",function(e){var i=$(this).find(".panel-bottom-offset").offset().top-$(this).offset().top;i>=0&&$(this).removeClass("active")}),$(".button-show-modal").on("click",function(e){e.preventDefault(),$.dialog({type:"confirm",buttonText:{ok:"Reduce Savings",cancel:"Return on payday"},titleText:"Oh no, you’re short $287!",contentHtml:"<p>You need an additional $287 to cover upcoming Bills and Spending Money.</p><p>Try reducing your Savings percentage, or come back when you get paid on Friday, June 6.</p>"})})}),$(window).load(function(){var e=function(){var e=$("body").innerWidth(),i=$("body").innerHeight();e>i?($(".timer-wrapper").css({width:i}),$(".timer-text-cell, .loader-wrapper").css({height:i-60}),$(".loader-wrapper").css({width:i-60})):($(".timer-wrapper").css({width:e}),$(".timer-text-cell, .loader-wrapper").css({height:e-60}),$(".loader-wrapper").css({width:e-60}))};e(),$(window).resize(function(){e()})});